{"version":3,"sources":["Database/Firebase.js","Components/Auth/AuthProvider.jsx","Components/Main/MainPage.jsx","Database/FirebaseAction.js","Components/Popup/AddAttachmentPopup.jsx","Components/Board/Card.jsx","Components/Board/Column.jsx","Components/Popup/PopupBoardSettings.jsx","Components/Popup/BasePopup.jsx","Components/Board/Board.jsx","Components/SignIn/SignIn.jsx","Components/Popup/NewBoardPopup.jsx","Components/Profile/Profile.jsx","Components/Main/NotFound.jsx","Components/Trello.jsx","index.jsx"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","props","state","currentUser","auth","onAuthStateChanged","user","setState","userSignedIn","Provider","value","this","children","Component","MainPage","document","title","redirect","to","context","className","onClick","uid","type","placeholder","contextType","FirebaseAction","id","firestore","collection","doc","get","data","file","ref","storage","meta","contentType","name","uuidv4","split","length","task","child","put","card","cardsData","map","concat","JSON","stringify","update","cards","mainData","docs","idData","index","email","password","signInWithEmailAndPassword","then","catch","error","profile","returnData","colData","i","cardData","i2","columns","dat2","resp","board","info","allowedUsers","add","fbaction","increment","FieldValue","boards","console","createUserWithEmailAndPassword","set","boardBackground","cardBackground","display","profilePicture","delete","AddAttachmentPopup","show","small","not_allowed","checked","value_alt","event","includes","target","files","alert","onChange","e","handleInput","accept","addNewChecklistItem","setAttachment","snapshot","getDownloadURL","url","callback","text","renderPopup","submit","Card","showAttachment","showAttachmentType","alt","src","rel","href","Date","toLocaleDateString","toLocaleTimeString","item","attachment","updateCheckList","htmlFor","attachmentID","itemIndex","existing","changeTitle","html","removeAttachment","charAt","toUpperCase","slice","renderAttachment","push","window","confirm","splice","dat","replaceAll","style","background","tagName","renderCardPopup","addAttachment","Column","refTitle","createRef","newCardName","renderAddCard","draggable","required","newState","parse","log","carr","old_index","new_index","arr","k","undefined","newData","Object","assign","filter","element","a","array_move","innerRef","columnTitle","t","f","updateFirebase","PopupBoardSettings","initial","changed","handleChange","close","Board","match","params","newColumnName","status","showSettings","getCard","boardData","getBoard","message","values","ind","cind","addColumn","updateColumns","updateBoardInfo","columnID","parseInt","cardID","moveColumn","deleteBoard","pos","columnCallback","renderError","renderAddColumn","updateBoard","SignIn","username","mode","userSignIn","code","action","userSignUp","handleSubmit","NewBoardPopup","boardTitle","boardCardBackground","open","popuptype","create","Profile","getData","getProfile","changedData","getAllBoard","cols","profilePictureName","uploadProfilePicture","saveProfile","profData","createNewBoard","rdata","renderNewBoard","handleFile","private","saveChanges","NotFound","Trello","path","exact","component","render","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.39ede780.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nvar firebaseConfig = {\r\n\tapiKey: \"AIzaSyDPzgO9WrITKt0v9eJAEWNEkWH1xv4agYU\",\r\n\tauthDomain: \"trello-clone-f948b.firebaseapp.com\",\r\n\tprojectId: \"trello-clone-f948b\",\r\n\tstorageBucket: \"trello-clone-f948b.appspot.com\",\r\n\tmessagingSenderId: \"891285689000\",\r\n\tappId: \"1:891285689000:web:0c193783aba07bb423a89d\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React from \"react\";\r\nimport firebase from 'Database/Firebase';\r\n\r\nexport const AuthContext = React.createContext(null);\r\n\r\nclass AuthProvider extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentUser : null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tfirebase.auth().onAuthStateChanged(user =>{\r\n\t\t\tif(user === null){\r\n\t\t\t\tthis.setState({userSignedIn : false});\t\r\n\t\t\t\treturn;\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({userSignedIn : true, currentUser : user});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<AuthContext.Provider value={this.state}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</AuthContext.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AuthProvider;","import React from 'react';\r\nimport 'Style/MainPage.css';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AuthContext} from 'Components/Auth/AuthProvider';\r\n\r\nexport default class MainPage extends React.Component{\r\n\tstatic contextType = AuthContext;\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t\tdocument.title = \"Trello Clone\"\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(this.state.redirect) return <Redirect to={this.state.redirect}/>\r\n\r\n\t\tif(this.context.currentUser){\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"mnpWrapper\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\tTrello Clone\r\n\r\n\t\t\t\t\t<div className=\"mnpSignIn\">\r\n\t\t\t\t\t\t<button onClick={()=>this.setState({redirect : \"/u/\"+this.context.currentUser.uid})}>My Profile</button>\r\n\t\t\t\t\t\t<button onClick={()=>this.setState({redirect : \"/logout\"})}>Sign out</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<h1>\r\n\t\t\t\t\t\tHey, Welcome back\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tYou're signed in, so you can view your boards and get to work on your current project\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</main>\r\n\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t<span>This is a trello clone, purely made to show off my ReactJS and Javascript knowledge</span>\r\n\t\t\t\t\t<span>Feedback and Suggestions would be appreciated</span>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t\t); \r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"mnpWrapper\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\tTrello Clone\r\n\r\n\t\t\t\t\t<div className=\"mnpSignIn\">\r\n\t\t\t\t\t\t<button onClick={()=>this.setState({redirect : \"/signin\"})}>Sign in</button>\r\n\t\t\t\t\t\t<button onClick={()=>this.setState({redirect : \"/signup\"})}>Sign Up</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<h1>\r\n\t\t\t\t\t\tSign up today\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"Enter your email\"/>\r\n\t\t\t\t\t\t<button>Create new account</button>\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tTrello-Clone is a web based list making app, allowing you or a team to organise your thoughs, tasks and plan ahead, so sign up today and get started\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</main>\r\n\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t<span>This is a trello clone, purely made to show off my ReactJS and Javascript knowledge</span>\r\n\t\t\t\t\t<span>Feedback and Suggestions would be appreciated</span>\r\n\t\t\t\t</footer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import firebase from 'Database/Firebase';\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nclass FirebaseAction{\r\n\r\n\tstatic async getBoard(uid,id){\r\n\t\tlet data = await firebase.firestore().collection(uid).doc(id).get();\r\n\t\treturn data.data();\r\n\t}\r\n\r\n\tstatic async setAttachment(file){\r\n\t\tconst ref = firebase.storage().ref();\r\n\t\tconst meta = {contentType : file.type};\r\n\t\tconst name = uuidv4()+\".\"+(file.name.split(\".\")[file.name.split(\".\").length-1]);\r\n\r\n\t\tconst task = ref.child(name).put(file,meta);\r\n\t\t\r\n\t\treturn await task;\r\n\t}\r\n\r\n\tstatic async updateAttachment(uid,id,card){\r\n\t\tlet cardsData = [];\r\n\r\n\t\tcard.map((data)=>{\r\n\t\t\tcardsData = cardsData.concat(JSON.stringify(data));\r\n\t\t\treturn cardsData;\r\n\t\t})\r\n\r\n\t\tfirebase.firestore().collection(uid).doc(id).update({\r\n\t\t\tcards : cardsData,\r\n\t\t})\r\n\t}\r\n\r\n\tstatic async getAllBoard(uid){\r\n\t\tconst data = await firebase.firestore().collection(uid).get();\r\n\t\tconst mainData = data.docs.map(doc => doc.data());\r\n\t\tconst idData = data.docs.map(doc => doc.id);\r\n\t\tmainData.map((data,index) => mainData[index].id = idData[index]);\r\n\t\treturn mainData;\r\n\t}\r\n\r\n\tstatic async getProfile(uid){\r\n\t\tlet data = await firebase.firestore().collection(uid).doc(\"data\").get();\r\n\t\treturn data.data();\r\n\t}\r\n\r\n\tstatic async userSignIn(email, password){\r\n\t\treturn await firebase.auth().signInWithEmailAndPassword(email,password).then(data=>{\r\n\t\t\treturn data.user.uid;\r\n\t\t}).catch(error=>{return error});\r\n\t}\r\n\r\n\tstatic async saveProfile(uid,profile){\r\n\t\tlet data = await firebase.firestore().collection(uid).doc(\"data\").update(profile).then(data=>{return true}).catch((error)=>{\r\n\t\t\treturn error;\r\n\t\t});\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tstatic async updateColumns(uid,id,data){\r\n\t\tlet returnData = {};\r\n\r\n\t\tdata.map((colData,i)=>{\r\n\t\t\treturnData = {...returnData,[i] : colData.map((cardData,i2)=>{return JSON.stringify(cardData)})}\r\n\t\t});\r\n\r\n\t\tlet resp = await firebase.firestore().collection(uid).doc(id).update({columns : returnData}).then(dat2=>{return true}).catch((error)=>{return error;});\r\n\t\treturn resp;\r\n\t}\r\n\r\n\tstatic async createNewBoard(uid,data){\r\n\t\tlet board = {\r\n\t\t\tinfo : JSON.stringify(data),\r\n\t\t\tallowedUsers : [uid],\r\n\t\t\tcolumns : {},\r\n\t\t};\r\n\r\n\t\tlet fbaction = await firebase.firestore().collection(uid).add(board);\r\n\t\tlet increment = firebase.firestore.FieldValue.increment(1);\r\n\r\n\t\tlet countBoard = await firebase.firestore().collection(uid).doc(\"data\").update({\r\n\t\t\tboards : increment,\r\n\t\t});\r\n\t\treturn fbaction;\r\n\t}\r\n\r\n\tstatic async updateBoardInfo(uid,id,data){\r\n\t\tlet resp = await firebase.firestore().collection(uid).doc(id).update({\r\n\t\t\tinfo : JSON.stringify(data),\r\n\t\t}).then((data=>{return true;}))\r\n\t\t.catch(console.error);\r\n\t\treturn resp;\r\n\t}\r\n\r\n\tstatic async userSignUp(email,password){\r\n\t\tawait firebase.auth().createUserWithEmailAndPassword(email, password).then(data=>{\r\n\t\t\tfirebase.firestore().collection(data.user.uid).doc(\"data\").set({\r\n\t\t\t\tboardBackground : \"#000000\",\r\n\t\t\t\tcardBackground : \"#000000\",\r\n\t\t\t\tdisplay : data.user.email,\r\n\t\t\t\tprofilePicture : \"\",\r\n\t\t\t}).catch(console.error);\r\n\r\n\t\t\treturn data.user.uid;\r\n\t\t}).catch((error)=>{\r\n\t\t\treturn error;\r\n\t\t})\r\n\t}\r\n\r\n\tstatic async uploadProfilePicture(uid,file){\r\n\t\tconst ref = firebase.storage().ref();\r\n\t\tconst meta = {contentType : file.type};\r\n\t\tconst name = uid+\".\"+(file.name.split(\".\")[file.name.split(\".\").length-1]);\r\n\t\tconst task = ref.child(name).put(file,meta);\r\n\t\t\r\n\t\treturn await task.then(data=>{\r\n\t\t\treturn data;\r\n\t\t}).catch((error)=>{\r\n\t\t\treturn error;\r\n\t\t});\r\n\t}\r\n\r\n\tstatic async deleteBoard(uid,id){\r\n\t\treturn await firebase.firestore().collection(uid).doc(id).delete().then(data=>{\r\n\t\t\tlet increment = firebase.firestore.FieldValue.increment(-1);\r\n\r\n\t\t\tlet countBoard = firebase.firestore().collection(uid).doc(\"data\").update({\r\n\t\t\t\tboards : increment,\r\n\t\t\t});\r\n\r\n\t\t\treturn data;\r\n\t\t}).catch(console.error);\r\n\t}\r\n}\r\n\r\nexport default FirebaseAction;","import React from 'react';\r\nimport FirebaseAction from 'Database/FirebaseAction';\r\n\r\nclass AddAttachmentPopup extends React.Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tshow : props.show,\r\n\t\t\ttype : props.type,\r\n\t\t\tsmall : [\"text\",\"image\",\"file\",\"date\"],\r\n\t\t\tnot_allowed : [\t\"application/x-msdownload\",\r\n\t\t\t\t\t\t\t\"application/x-ms-installer\",\r\n\t\t\t\t\t\t\t\"application/vnd.ahead.space\",\r\n\t\t\t\t\t\t\t\"application/vnd.adobe.air-application-installer-package+zip\",\r\n\t\t\t\t\t\t\t\"application/vnd.apple.installer+xml\",\r\n\t\t\t\t\t\t\t\"application/vnd.nokia.n-gage.symbian.install\",\r\n\t\t\t\t\t\t\t\"application/vnd.ahead.space\",\r\n\t\t\t\t\t\t\t\"application/vnd.hal+xml\",\r\n\t\t\t\t\t\t\t\"application/vnd.kinar\",\r\n\t\t\t\t\t\t\t\"application/x-ms-application\",\r\n\t\t\t\t\t\t\t\"application/vnd.ms-excel.sheet.macroenabled.12\",\r\n\t\t\t\t\t\t\t\"application/vnd.ms-excel.template.macroenabled.12\",\r\n\t\t\t\t\t\t\t\"application/vnd.ms-powerpoint.slide.macroenabled.12\",\r\n\t\t\t\t\t\t\t\"application/vnd.ms-powerpoint.presentation.macroenabled.12\",\r\n\t\t\t\t\t\t\t\"application/vnd.ms-powerpoint.slideshow.macroenabled.12\",\r\n\t\t\t\t\t\t\t\"application/vnd.ms-powerpoint.template.macroenabled.12\",\r\n\t\t\t\t\t\t\t\"application/x-ms-xbap\",\r\n\t\t\t\t\t\t\t\"application/vnd.recordare.musicxml\",\r\n\t\t\t\t\t\t\t\"application/vnd.recordare.musicxml+xml\",\r\n\t\t\t\t\t\t\t\"application/vnd.olpc-sugar\",\r\n\t\t\t\t\t\t],\r\n\t\t\tvalue : [{data : \"\", checked:false}],\r\n\t\t\tvalue_alt : \"\",\r\n\t\t};\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state){\r\n\t\treturn {...state,show : props.show, type : props.type};\r\n\t}\r\n\r\n\thandleInput(event){\t\t\r\n\t\tif(this.state.type === \"image\" || this.state.type === \"file\"){\r\n\t\t\tif(this.state.not_allowed.includes(event.target.files[0].type)){\r\n\t\t\t\talert(\"File type is not allowed\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.setState({value : event.target.files[0]});\r\n\t\t}else if(this.state.type === \"checklist\"){\r\n\t\t\tlet data = this.state.value;\r\n\t\t\tdata[event.target.id].data = event.target.value;\r\n\t\t\tthis.setState({value : data});\r\n\t\t}else{\r\n\t\t\tif(event.target.name === \"input_alt\"){\r\n\t\t\t\tthis.setState({value_alt : event.target.value});\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({value : event.target.value});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trenderPopup(){\r\n\t\tswitch(this.state.type){\r\n\t\t\tcase \"text\": \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div id=\"pupInnerWindow\">\r\n\t\t\t\t\t\t<input className=\"pupTextInput\" type=\"text\" placeholder=\"Write your text here\" value={this.state.value} onChange={(e)=>this.handleInput(e)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"image\": \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div id=\"pupInnerWindow\">\r\n\t\t\t\t\t\t<input className=\"pupTextInput\" type=\"file\" accept=\"image\" name=\"input\" onChange={(e)=>this.handleInput(e)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"link\": \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div id=\"pupInnerWindow\">\r\n\t\t\t\t\t\t<input className=\"pupTextInput\" type=\"text\" placeholder=\"Link Display Text\" name=\"input\" onChange={(e)=>this.handleInput(e)}/>\r\n\t\t\t\t\t\t<input className=\"pupTextInput\" type=\"text\"  placeholder=\"Link URL\" name=\"input_alt\" onChange={(e)=>this.handleInput(e)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"checklist\":\r\n\t\t\t\tif(typeof(this.state.value) !== \"object\"){\r\n\t\t\t\t\tthis.setState({value : [{data:\"\"}]});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div id=\"pupInnerWindow\">\r\n\t\t\t\t\t\t<input type=\"submit\" value=\"+\" onClick={()=>this.addNewChecklistItem()}/>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.value.map((data,index)=>{\r\n\t\t\t\t\t\t\t\treturn <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"List item\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.value[index].data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"checklist_input\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tid={index} \r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index} \r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e)=>this.handleInput(e)} />\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"file\": \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div id=\"pupInnerWindow\">\r\n\t\t\t\t\t\t<input className=\"pupTextInput\" type=\"file\" name=\"input\" onChange={(e)=>this.handleInput(e)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"date\": \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div id=\"pupInnerWindow\">\r\n\t\t\t\t\t\t<input className=\"pupTextInput\" type=\"date\" value={this.state.value} onChange={(e)=>this.handleInput(e)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tdefault: return(<div>Unknown type</div>);\r\n\t\t}\r\n\t}\r\n\r\n\taddNewChecklistItem(){\r\n\t\tlet value = this.state.value.concat({data:\"\", checked:false});\r\n\t\tthis.setState({value : value});\r\n\t}\r\n\r\n\tsubmit(e){\r\n\t\tswitch(this.state.type){\r\n\t\t\tcase \"image\": case \"file\":\r\n\t\t\t\tlet name = this.state.value.name;\r\n\t\t\t\tlet dat = FirebaseAction.setAttachment(this.state.value);\r\n\t\t\t\tdat.then(snapshot => snapshot.ref.getDownloadURL())\r\n\t\t\t\t.then((url) => {\r\n\t\t\t\t\tthis.props.callback({type:this.state.type,data:url,name: name,});\r\n\t\t\t\t}).catch(console.error);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"link\":\r\n\t\t\t\tthis.props.callback({type : this.state.type, data:this.state.value_alt,text:this.state.value});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.props.callback({type : this.state.type,data : this.state.value,});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.setState({show:false, value : \"\"});\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(!this.state.show) return (<div></div>);\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"pupBacking\">\r\n\t\t\t\t<div id={this.state.small.includes(this.state.type) ? \"pupWindowSmall\" : \"pupWindow\"}>\r\n\t\t\t\t\t<span id=\"pupClose\" onClick={(e)=>{this.setState({show:false})}}>x</span>\r\n\t\t\t\t\t<span className=\"pupTitle\">Add a new {this.state.type} attachment</span>\r\n\t\t\t\t\t\t{this.renderPopup()}\r\n\t\t\t\t\t<input className=\"pupSubmit\" type=\"submit\" value=\"Add\" onClick={(e)=>this.submit(e)}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddAttachmentPopup;","import React from 'react';\r\nimport 'Style/Card.css';\r\nimport 'Style/PopUp.css';\r\nimport AddAttachmentPopup from 'Components/Popup/AddAttachmentPopup';\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\nclass Card extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tshow : false,\r\n\t\t\tshowAttachment : false,\r\n\t\t\tshowAttachmentType : \"\",\r\n\t\t};\r\n\t}\r\n\r\n\r\n\trenderAttachment(i,data){\r\n\t\tswitch(data.type){\r\n\t\t\tcase \"text\": return <div className=\"pupAttachmentContent\">{data.data}</div>\r\n\t\t\tcase \"image\": return <div className=\"pupAttachmentContent\"><img alt=\"attachment\" src={data.data}/></div>\r\n\t\t\tcase \"link\": return <div className=\"pupAttachmentContent\"><a rel=\"noreferrer\" target=\"_blank\" href={data.data}>{data.text}</a></div>\r\n\t\t\tcase \"date\": return <div className=\"pupAttachmentContent\">{(new Date(data.data).toLocaleDateString())}</div>\r\n\t\t\tcase \"time\": return <div className=\"pupAttachmentContent\">{(new Date(data.data).toLocaleTimeString())}</div>\r\n\t\t\tcase \"checklist\": return (\r\n\t\t\t\t<div className=\"pupAttachmentContent\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata.data.map((item,index)=>{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" key={index} name={\"check.\"+i+\".\"+index} id={\"check_\"+index} checked={this.props.data.attachment[i].data[index].checked} onChange={(e)=>this.updateCheckList(e)}/>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor={\"check_\"+index}>{item.data}</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\t\tcase \"file\": return (\r\n\t\t\t\t<div className=\"pupAttachmentContent\">\r\n\t\t\t\t\t<a href={data.data} rel=\"noreferrer\" target=\"_blank\">{data.name}</a>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\t\tdefault: return <div></div>\r\n\t\t}\r\n\t}\r\n\r\n\tupdateCheckList(event){\r\n\t\tlet attachmentID = +event.target.name.split(\".\")[1];\r\n\t\tlet itemIndex = +event.target.name.split(\".\")[2];\r\n\r\n\t\tlet existing = this.props.data.attachment;\r\n\t\texisting[attachmentID].data[itemIndex].checked = event.target.checked;\r\n\t\tthis.props.callback(\"card\",this.props.index,{title : this.props.data.title, attachment: existing});\r\n\t}\r\n\r\n\trenderCardPopup(){\r\n\t\tif(!this.state.show) return (<div></div>)\r\n\r\n\t\treturn (\r\n\t\t<div id=\"pupBacking\">\r\n\t\t\t<div id=\"pupWindow\">\r\n\t\t\t\t<div id=\"pupTop\">\r\n\t\t\t\t\t<ContentEditable \tid=\"pupTitle\" \r\n\t\t\t\t\t\t\t\t\t\tonChange={(e)=>this.changeTitle(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\thtml={this.props.data.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span id=\"pupClose\" onClick={(e)=>{this.setState({show:false})}}>x</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"pupMid\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.props.data.attachment.map((data,i)=>{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={i} className=\"pupAttachment\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"pupAttachmentNumber\">#{i+1}</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"pupAttachmentDelete\" onClick={(e)=>this.removeAttachment(i)}>x</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"pupAttachmentType\">{data.type.charAt(0).toUpperCase() + data.type.slice(1)}</span>\r\n\t\t\t\t\t\t\t\t\t{this.renderAttachment(i,data)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"pupBtm\">\r\n\t\t\t\t\t<span className=\"pupAttachmentLabel\">Add new attachment</span>\r\n\t\t\t\t\t<div className=\"pupAddAttachmentButtons\">\r\n\t\t\t\t\t\t<button className=\"pupAddAttachment\" onClick={()=>this.setState({showAttachmentType : \"text\", showAttachment : true})}>Text</button>\r\n\t\t\t\t\t\t<button className=\"pupAddAttachment\" onClick={()=>this.setState({showAttachmentType : \"image\", showAttachment : true})}>Image</button>\r\n\t\t\t\t\t\t<button className=\"pupAddAttachment\" onClick={()=>this.setState({showAttachmentType : \"link\", showAttachment : true})}>Link</button>\r\n\t\t\t\t\t\t<button className=\"pupAddAttachment\" onClick={()=>this.setState({showAttachmentType : \"checklist\", showAttachment : true})}>Checklist</button>\r\n\t\t\t\t\t\t<button className=\"pupAddAttachment\" onClick={()=>this.setState({showAttachmentType : \"file\", showAttachment : true})}>File</button>\r\n\t\t\t\t\t\t<button className=\"pupAddAttachment\" onClick={()=>this.setState({showAttachmentType : \"date\", showAttachment : true})}>Date</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\taddAttachment(data){\r\n\t\tlet attachment = this.props.data.attachment;\r\n\t\tattachment.push(data);\r\n\t\tthis.setState({showAttachment : false},()=>{\r\n\t\t\tthis.props.callback(\"card\",this.props.index,{title : this.props.data.title, attachment: attachment});\t\r\n\t\t});\r\n\t}\r\n\r\n\tremoveAttachment(index){\r\n\t\tif(window.confirm(\"Remove attachment? (This cannot be undone)\")){\r\n\t\t\tlet state = this.props.data.attachment;\r\n\t\t\tstate.splice(index,1);\r\n\t\t\tthis.props.callback(this.props.index,{title : this.props.data.title, attachment: state});\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tchangeTitle(title){\r\n\t\tlet dat = title;\r\n\t\tdat = dat.replaceAll(\"<div>\",\"\");\r\n\t\tdat = dat.replaceAll(\"</div>\",\"\");\r\n\t\tdat = dat.replaceAll(\"<br>\",\"\\n\");\r\n\r\n\t\tlet returnData = {\r\n\t\t\ttitle : dat,\r\n\t\t\tattachment : this.props.data.attachment\r\n\t\t};\r\n\r\n\t\tthis.props.callback(\"card\",this.props.index,returnData);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"cardMain\" style={{\"background\":this.props.background}}>\r\n\t\t\t\t<div className=\"clmRemove\" onClick={()=>{if(window.confirm(\"Remove Card? This cannot be undone.\")) this.props.callback(\"remove\",this.props.index)}}>x</div>\r\n\t\t\t\t<ContentEditable \tclassName=\"cardTitle\" \r\n\t\t\t\t\t\t\t\t\tonChange={(e)=>this.changeTitle(e.target.value)}\r\n\t\t\t\t\t\t\t\t\thtml={this.props.data.title}\r\n\t\t\t\t\t\t\t\t\ttagName=\"span\"\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t{\t\r\n\t\t\t\t\t(this.props.data.attachment.length === 1 ? \r\n\t\t\t\t\t\t<span className=\"cardAttachment\" onClick={(e)=>{this.setState({show : true})}}>Show {this.props.data.attachment?.length} attachment</span> : \r\n\t\t\t\t\t\t<span className=\"cardAttachment\" onClick={(e)=>{this.setState({show : true})}}>Show {this.props.data.attachment?.length} attachments</span>)\r\n\t\t\t\t}\r\n\t\t\t\t<div className=\"cardNavigation\">\r\n\t\t\t\t\t<div className=\"up\" onClick={(e)=>this.props.callback(\"move\",this.props.index,\"up\")}> </div>\r\n\t\t\t\t\t<div className=\"left\" onClick={(e)=>this.props.callback(\"move\",this.props.index,\"left\")}> </div>\r\n\t\t\t\t\t<div className=\"right\" onClick={(e)=>this.props.callback(\"move\",this.props.index,\"right\")}> </div>\r\n\t\t\t\t\t<div className=\"down\" onClick={(e)=>this.props.callback(\"move\",this.props.index,\"down\")}> </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.renderCardPopup()}\r\n\t\t\t\t<AddAttachmentPopup type={this.state.showAttachmentType} show={this.state.showAttachment} callback={(e)=>{this.addAttachment(e)}}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport FirebaseAction from 'Database/FirebaseAction';\r\nimport Card from 'Components/Board/Card';\r\nimport 'Style/Column.css';\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\nclass Column extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.refTitle = React.createRef();\r\n\r\n\t\tthis.state = {\r\n\t\t\tnewCardName : \"\",\r\n\t\t\trenderAddCard : false,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state){\r\n\t\treturn {...state,\r\n\t\t\tcolumnTitle : props.data[0].title,\r\n\t\t\tcardBackground : props.background,\r\n\t\t\tcards : props.data.slice(1),\r\n\t\t};\r\n\t}\r\n\r\n\trenderAddCard(){\r\n\t\tif(!this.state.renderAddCard) return <div></div>;\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"pupBacking\" draggable=\"true\">\r\n\t\t\t\t<div id=\"pupWindowSmall\">\r\n\t\t\t\t\t<div className=\"clmRemove\" onClick={()=>{this.setState({renderAddCard : false})}}>x</div>\r\n\t\t\t\t\t<span>Card Name</span>\r\n\t\t\t\t\t<input type=\"text\" value={this.state.newCardName} onChange={(e)=>{this.setState({newCardName : e.target.value})}} required/>\r\n\t\t\t\t\t<button onClick={()=>{\r\n\t\t\t\t\t\tlet newState = JSON.parse(JSON.stringify(this.state.cards));\r\n\t\t\t\t\t\tnewState.push({title : this.state.newCardName, attachment : [], });\r\n\t\t\t\t\t\tconsole.log(newState);\r\n\t\t\t\t\t\tthis.props.callback(\"cards\",this.props.index,newState);\r\n\t\t\t\t\t\tthis.setState({cards : newState, newCardName : \"\", renderAddCard : false})\r\n\t\t\t\t\t}}>Add Card</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tarray_move(carr, old_index, new_index) {\r\n\t\tconsole.log(old_index+\" \"+new_index);\r\n\t\tlet arr = JSON.parse(JSON.stringify(carr));\r\n\r\n\t\tif (new_index >= arr.length) {\r\n\t\t\tlet k = new_index - arr.length + 1;\r\n\t\t\t\r\n\t\t\twhile (k--) {\r\n\t\t\t\tarr.push(undefined);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n\t\tconsole.log(arr);\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tupdateFirebase(type,index,data){\r\n\t\tlet cards = JSON.parse(JSON.stringify(this.state.cards));\r\n\r\n\t\tswitch(type){\r\n\t\t\tcase \"card\":\r\n\t\t\t\tlet newData = Object.assign([],this.state.cards,{[index] : data});\r\n\t\t\t\tthis.props.callback(\"cards\",this.props.index,newData);\r\n\t\t\t\tthis.setState({cards : newData});\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"attachment\":\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"remove\":\r\n\t\t\t\tcards = cards.filter((element,a)=>{return a !== index});\r\n\t\t\t\tthis.props.callback(\"cards\",this.props.index,cards);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"move\":\r\n\t\t\t\tswitch(data){\r\n\t\t\t\t\tcase \"up\":\r\n\t\t\t\t\t\tthis.props.callback(\"cards\",this.props.index,this.array_move(this.state.cards, index, index-1));\t\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"down\":\r\n\t\t\t\t\t\tthis.props.callback(\"cards\",this.props.index,this.array_move(this.state.cards, index, index+1));\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"left\": case \"right\":\r\n\t\t\t\t\t\tthis.props.callback(type,index+\".\"+this.props.index,data);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"clmWrapper\">\r\n\t\t\t\t<div className=\"clmRemove\" onClick={()=>{if(window.confirm(\"Remove Column? This cannot be undone.\")) this.props.callback(\"remove\",this.props.index)}}>x</div>\r\n\t\t\t\t<ContentEditable \tinnerRef={this.refTitle} \r\n\t\t\t\t\t\t\t\t\thtml={this.state.columnTitle} \r\n\t\t\t\t\t\t\t\t\tname=\"columnTitle\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e)=>this.props.callback(\"title\",this.props.index,e.target.value)} \r\n\t\t\t\t\t\t\t\t\tclassName=\"clmTitle\"/>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.cards.map((data,i)=>{\r\n\t\t\t\t\t\treturn <Card key={i} index={i} data={data} background={this.state.cardBackground} callback={(t,i,f)=>{this.updateFirebase(t,i,f);}}/>\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<div onClick={()=>{this.setState({renderAddCard : true})}}>\r\n\t\t\t\t\t+ New Card\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{this.renderAddCard()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Column;","import React from 'react';\r\nimport BasePopup from 'Components/Popup/BasePopup';\r\n\r\nexport default class PopupBoardSettings extends BasePopup{\r\n\tconstructor(props){\r\n\t\tsuper(props,true);\r\n\r\n\r\n\t\tthis.state = {\r\n\t\t\tsmall : true,\r\n\t\t\tinitial : props.data,\r\n\t\t\tchanged : {title : false, cardBackground : false, boardBackground : false},\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange(e){\r\n\t\tthis.setState({\r\n\t\t\tchanged : {\r\n\t\t\t\t...this.state.changed,\r\n\t\t\t\t[e.target.name] : e.target.value,\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trenderPopup(){\r\n\t\treturn (\r\n\t\t\t<div name=\"BoardSettings\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"title\">Board Title</label>\r\n\t\t\t\t\t<input type=\"text\" name=\"title\" value={(!this.state.changed.title ? this.props.data.title : this.state.changed.title)} onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"boardBackground\">Board Colour</label>\r\n\t\t\t\t\t<input type=\"color\" name=\"boardBackground\" value={(!this.state.changed.boardBackground ? this.props.data.boardBackground : this.state.changed.boardBackground)} onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"cardBackground\">Card Colour</label>\r\n\t\t\t\t\t<input type=\"color\" name=\"cardBackground\" value={(!this.state.changed.cardBackground ? this.props.data.cardBackground : this.state.changed.cardBackground)} onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div><button onClick={()=>{this.props.update(this.state.changed); this.props.close()}}>Save Settings</button></div>\r\n\t\t\t\t<div><button onClick={()=>this.props.delete()}name=\"delete\">Delete Board</button></div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport 'Style/PopUp.css';\r\n\r\nexport default class BasePopup extends React.Component{\r\n\r\n\tconstructor(props, small){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tsmall : small,\r\n\t\t};\r\n\t}\r\n\r\n\trenderPopup(){\r\n\t\t\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(!this.props.show) return (<div></div>)\r\n\r\n\t\treturn (\r\n\r\n\t\t<div id=\"pupBacking\">\r\n\t\t\t<div id={this.state.small ? \"pupWindowSmall\" : \"pupWindow\"}>\r\n\t\t\t\t<div className=\"clmRemove\" onClick={()=>{this.props.close();}}>x</div>\r\n\t\t\t\t{this.renderPopup()}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport 'Style/Board.css';\r\nimport Column from 'Components/Board/Column';\r\nimport FirebaseAction from 'Database/FirebaseAction';\r\nimport {AuthContext} from 'Components/Auth/AuthProvider';\r\nimport {Redirect} from 'react-router-dom';\r\nimport ContentEditable from 'react-contenteditable'\r\nimport PopupBoardSettings from 'Components/Popup/PopupBoardSettings';\r\n\r\nclass Board extends React.Component{\r\n\tstatic contextType = AuthContext;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid : this.props.match.params.id,\r\n\t\t\ttitle : \"Loading\",\r\n\t\t\tcolumns : [],\r\n\t\t\tnewColumnName :  \"\",\r\n\t\t\tstatus : 0,\r\n\t\t\terror : false,\r\n\r\n\t\t\tshowSettings : false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate(){\r\n\t\tif(this.context && this.state.status === 0){\r\n\t\t\tthis.setState({status : 1});\r\n\t\t\tthis.getCard();\r\n\t\t}\r\n\t}\r\n\r\n\tgetCard(){\r\n\t\tlet boardData = FirebaseAction.getBoard(this.context.currentUser.uid,this.props.match.params.id);\r\n\t\tboardData.then(data=>{\r\n\r\n\t\t\tlet info = JSON.parse(data.info);\r\n\t\t\tif(data.allowedUsers.filter((element)=>{return element===this.context.currentUser.uid}) <= 0){\r\n\t\t\t\tthis.setState({error : {name:\"Unauthorised\",message:\"You are not on the allowed users list for this board\"}});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({title : info.title, boardBackground : info.boardBackground, cardBackground : info.cardBackground},()=>window.document.title = (this.state.title + \" | Trello Clone\"));\r\n\t\t\tlet a = [];\r\n\t\t\tObject.values(data.columns).map((columns,ind)=>{\r\n\t\t\t\ta[ind] = [];\r\n\t\t\t\tcolumns.map((cards,cind) =>{\r\n\t\t\t\t\ta[ind][cind] = JSON.parse(cards);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis.setState({columns : a});\r\n\t\t}).catch(error=>{\r\n\t\t\tconsole.error(boardData);\r\n\t\t\tthis.setState({title: \"Error loading board\", error: error});\r\n\t\t});\r\n\t}\r\n\r\n\trenderError(){\r\n\t\tif(!this.state.error) return <div></div>;\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"pupBackingError\">\r\n\t\t\t\t<div id=\"pupWindowSmall\">\r\n\t\t\t\t\t<span className=\"errorTitle\">Sorry about this, but there's been an error.</span>\r\n\t\t\t\t\t<span className=\"errorMessage\">{this.state.error.name+\": \"+this.state.error.message}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderAddColumn(){\r\n\t\tif(!this.state.addColumn)\treturn <div></div>;\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"pupBacking\">\r\n\t\t\t\t<div id=\"pupWindowSmall\">\r\n\t\t\t\t\t<div className=\"clmRemove\" onClick={()=>{this.setState({addColumn : false})}}>x</div>\r\n\t\t\t\t\t<span>Column Name</span>\r\n\t\t\t\t\t<input type=\"text\" value={this.state.newColumnName} onChange={(e)=>{this.setState({newColumnName : e.target.value})}} />\r\n\t\t\t\t\t<button onClick={()=>{\r\n\t\t\t\t\t\tlet a = JSON.parse(JSON.stringify(this.state.columns)); \r\n\t\t\t\t\t\ta.push([{title : this.state.newColumnName}]); \r\n\t\t\t\t\t\tthis.setState({columns : a, newColumnName : \"\", addColumn : false});\r\n\t\t\t\t\t\tFirebaseAction.updateColumns(this.context.currentUser.uid,this.state.id,a);\r\n\t\t\t\t\t}}>Add Column</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcolumnCallback(type,index,data){\r\n\t\tlet columns = JSON.parse(JSON.stringify(this.state.columns));\r\n\t\t\r\n\t\tswitch(type){\r\n\t\t\tcase \"remove\":\r\n\t\t\t\tcolumns = columns.filter((element,a)=>{return a !== index});\r\n\t\t\t\tthis.setState({columns : columns});\r\n\t\t\t\tFirebaseAction.updateColumns(this.context.currentUser.uid,this.state.id,columns);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"cards\":\r\n\t\t\t\tcolumns = Object.assign([],columns,{[index]:[this.state.columns[index][0],...data]});\r\n\t\t\t\tthis.setState({columns : columns});\r\n\t\t\t\tFirebaseAction.updateColumns(this.context.currentUser.uid,this.state.id,columns);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"boardTitle\":\r\n\t\t\t\tlet dat = data;\r\n\t\t\t\tdat = dat.replaceAll(\"<div>\",\"\");\r\n\t\t\t\tdat = dat.replaceAll(\"</div>\",\"\");\r\n\t\t\t\tdat = dat.replaceAll(\"<br>\",\"\\n\");\r\n\t\t\t\tthis.setState({title : dat},()=>{\r\n\t\t\t\t\tFirebaseAction.updateBoardInfo(this.context.currentUser.uid,this.state.id,{title : this.state.title,cardBackground : this.state.cardBackground, boardBackground : this.state.boardBackground});\r\n\t\t\t\t});\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"move\":\r\n\t\t\t\tlet columnID = parseInt(index.split(\".\")[1]);\r\n\t\t\t\tlet cardID = parseInt(index.split(\".\")[0]);\r\n\t\t\t\t\r\n\t\t\t\tlet moveColumn = (data === \"left\" ? columnID-1 : columnID + 1);\r\n\t\t\t\tif(moveColumn < 0) moveColumn = columns.length-1;\r\n\t\t\t\tif(moveColumn >= columns.length) moveColumn = 0;\r\n\r\n\t\t\t\tcolumns[moveColumn].push(columns[columnID].splice((cardID+1),1)[0]);\r\n\t\t\t\tthis.setState({columns : columns});\r\n\t\t\t\tFirebaseAction.updateColumns(this.context.currentUser.uid,this.state.id,columns);\r\n\t\t\t\t\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault: break;\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteBoard(){\r\n\t\tif(window.confirm(\"Deleting your board cannot be undone! Are you sure?\")){\r\n\t\t\tFirebaseAction.deleteBoard(this.context.currentUser.uid,this.state.id).then(data=>{\r\n\t\t\t\tthis.setState({redirect : \"/u/\"+this.context.currentUser.uid});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tupdateBoard(e){\r\n\t\tFirebaseAction.updateBoardInfo(this.context.currentUser.uid,this.state.id,\r\n\t\t\t{\t\r\n\t\t\t\ttitle : (e.title ? e.title : this.state.title), \r\n\t\t\t\tboardBackground : (e.boardBackground ? e.boardBackground : this.state.boardBackground), \r\n\t\t\t\tcardBackground : (e.cardBackground ? e.cardBackground : this.state.cardBackground)\r\n\t\t\t}\r\n\t\t).then(data=>{\r\n\t\t\tthis.setState({title : (e.title ? e.title : this.state.title), boardBackground : (e.boardBackground ? e.boardBackground : this.state.boardBackground), cardBackground : (e.cardBackground ? e.cardBackground : this.state.cardBackground)});\r\n\t\t}).catch(error=>{\r\n\t\t\tconsole.error(error);\r\n\t\t})\r\n\t}\r\n\r\n\r\n\trender(){\r\n\t\tif(this.state.redirect){\r\n\t\t\treturn <Redirect to={this.state.redirect} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"brdMain\">\r\n\t\t\t\t<nav>\r\n\t\t\t\t\t<div pos=\"left\" onClick={(e)=>this.setState({redirect : \"/u/\"+this.context.currentUser.uid})}>&lt;&lt; Profile</div>\r\n\r\n\t\t\t\t\t<div pos=\"middle\">\r\n\t\t\t\t\t\t<ContentEditable \tid=\"brdTitle\" html={this.state.title}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e)=>this.columnCallback(\"boardTitle\",0,e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"span\"/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div pos=\"right\">\r\n\t\t\t\t\t\t<button onClick={()=>this.setState({addColumn : true})}>\r\n\t\t\t\t\t\t\t<span>Add Column</span>\r\n\t\t\t\t\t\t\t<img src=\"https://firebasestorage.googleapis.com/v0/b/trello-clone-f948b.appspot.com/o/Internal%2FTrelloAddIcon.png?alt=media&token=c9f7997d-73be-47da-9304-dc661221b1da\"/>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={()=>this.setState({showSettings : !this.state.showSettings})}>\r\n\t\t\t\t\t\t\t<span>Board Settings Board</span>\r\n\t\t\t\t\t\t\t<img src=\"https://firebasestorage.googleapis.com/v0/b/trello-clone-f948b.appspot.com/o/Internal%2FTrelloGearIcon.png?alt=media&token=00d483d0-927c-4b59-ae98-c40fe0b3bb77\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t\t<div className=\"brdCardHolder\" style={{\"background\":this.state.boardBackground}}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.columns.map((data,i)=>{\r\n\t\t\t\t\t\t\treturn <Column  index={i} \r\n\t\t\t\t\t\t\t\t\t\t\tkey={i} \r\n\t\t\t\t\t\t\t\t\t\t\tdata={data} \r\n\t\t\t\t\t\t\t\t\t\t\tbackground={this.state.cardBackground} \r\n\t\t\t\t\t\t\t\t\t\t\tcallback={(i,a,e)=>this.columnCallback(i,a,e)}/>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{this.renderError()}\r\n\t\t\t\t{this.renderAddColumn()}\r\n\r\n\t\t\t\t<PopupBoardSettings show={this.state.showSettings} \r\n\t\t\t\t\t\t\t\t\tclose={()=>this.setState({showSettings : false})} \r\n\t\t\t\t\t\t\t\t\tupdate={(e)=>this.updateBoard(e)} \r\n\t\t\t\t\t\t\t\t\tdelete={()=>this.deleteBoard()}\r\n\t\t\t\t\t\t\t\t\tdata={this.state}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Board;","import React from 'react';\r\nimport 'Style/SignIn.css';\r\nimport FirebaseAction from 'Database/FirebaseAction';\r\nimport {AuthContext} from 'Components/Auth/AuthProvider';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default class SignIn extends React.Component{\r\n\tstatic contextType = AuthContext;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername : \"\",\r\n\t\t\tpassword : \"\",\r\n\t\t};\r\n\r\n\t\twindow.document.title = (this.props.mode ? \"Login | Trello-Clone\" : \"Create Account | Trello-Clone\");\r\n\t}\r\n\r\n\thandleChange(event){\r\n\t\tthis.setState({[event.target.name] : event.target.value});\r\n\t}\r\n\r\n\tasync handleSubmit(){\t\r\n\t\tlet action;\r\n\r\n\t\tif(this.props.mode){\r\n\t\t\taction = await FirebaseAction.userSignIn(this.state.username,this.state.password).then(data=>{\r\n\t\t\t\tif(!data.code){\r\n\t\t\t\t\tthis.setState({redirect : \"/u/\"+data});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.setState({error : data});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\taction = await FirebaseAction.userSignUp(this.state.username,this.state.password).then(data=>{\r\n\t\t\t\tthis.setState({redirect : \"/u/\"+action});\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tthis.setState({error : error});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(this.state.redirect){\r\n\t\t\treturn <Redirect to={this.state.redirect} />\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"sinWrapper\">\r\n\t\t\t\t<div className=\"sinInput\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<h1>Trello Clone</h1>\r\n\t\t\t\t\t\t<h2>{this.props.mode ? \"Log into your account\" : \"Create new account\"}</h2>\r\n\t\t\t\t\t\t<h3>{(this.state.error ? (this.state.error.message) : \"\")}</h3>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<main>\r\n\t\t\t\t\t\t<input type=\"text\" value={this.state.username} name=\"username\" placeholder=\"Please enter your email\" onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t\t<input type=\"password\" value={this.state.password} name=\"password\" placeholder=\"Please enter your password\" onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t</main>\r\n\r\n\t\t\t\t\t<footer>\r\n\t\t\t\t\t\t<input type=\"submit\" value={this.props.mode ? \"Sign In\" : \"Create Account\"} onClick={()=>this.handleSubmit()}/>\r\n\t\t\t\t\t</footer>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\n\r\nexport default class NewBoardPopup extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tboardTitle : \"Untitled Board\", \r\n\t\t\tboardBackground : \"#FFFFFF\",\r\n\t\t\tboardCardBackground : \"#FFFFFF\",\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(!this.props.open) return (<div></div>);\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"pupBacking\">\r\n\t\t\t\t<div id=\"pupWindowSmall\" popuptype=\"NewBoardPopup\">\r\n\t\t\t\t\t<div className=\"clmRemove\" onClick={()=>{this.props.close();}}>x</div>\r\n\t\t\t\t\t\t<span>New Board Settings</span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label htmlFor=\"boardTitle\">Board Title</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"boardTitle\" onChange={(e)=>this.setState({boardTitle : e.target.value})} value={this.state.boardTitle}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label htmlFor=\"boardBackground\">Board Background Colour</label>\r\n\t\t\t\t\t\t\t<input type=\"color\" id=\"boardBackground\" onChange={(e)=>this.setState({boardBackground : e.target.value})} value={this.state.boardBackground}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label htmlFor=\"boardCardBackground\">Board Card Colour</label>\r\n\t\t\t\t\t\t\t<input type=\"color\" id=\"boardCardBackground\" onChange={(e)=>this.setState({boardCardBackground : e.target.value})} value={this.state.boardCardBackground}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button onClick={()=>{\r\n\t\t\t\t\t\t\tthis.props.create({title : this.state.boardTitle,boardBackground : this.state.boardBackground,cardBackground : this.state.boardCardBackground,});\r\n\t\t\t\t\t\t\tthis.props.close();\r\n\t\t\t\t\t\t}}>Create new board</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport 'Style/Profile.css';\r\nimport FirebaseAction from 'Database/FirebaseAction';\r\nimport {AuthContext} from 'Components/Auth/AuthProvider';\r\nimport {Link} from 'react-router-dom';\r\nimport NewBoardPopup from 'Components/Popup/NewBoardPopup';\r\n\r\n\r\nexport default class Profile extends React.Component{\r\n\tstatic contextType = AuthContext;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tstatus : 0,\r\n\t\t\tid : this.props.match.params.id,\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tcomponentDidMount(){this.getData()}\r\n\tcomponentDidUpdate(){this.getData()}\r\n\r\n\tgetData(){\r\n\t\tif(this.state.status > 0 || this.state.status === -1) return; \r\n\r\n\t\tif(!this.state.profile){\r\n\t\t\tFirebaseAction.getProfile(this.state.id).then((data)=>{\r\n\t\t\t\tif(data === undefined){\r\n\t\t\t\t\tthis.setState({error : {name : \"Unknown Profile\",message:\"Profile not found\"}, status : -1});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({profile : data, changedData : data});\r\n\t\t\t}).catch(console.error);\r\n\t\t}\r\n\r\n\t\tif(this.context && this.state.mode === undefined){\r\n\t\t\tif(this.context.userSignedIn === false){\r\n\t\t\t\tthis.setState({mode : false});\r\n\t\t\t}else if(this.context.userSignedIn === true && this.context.currentUser){\r\n\t\t\t\tthis.setState({mode : this.context.currentUser.uid === this.state.id});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!this.state.boards && \r\n\t\t\tthis.context.userSignedIn &&\r\n\t\t\tthis.context.currentUser.uid === this.state.id\r\n\r\n\t\t\t){\r\n\t\t\t\tFirebaseAction.getAllBoard(this.state.id).then(data =>{\r\n\t\t\t\t\tlet boardData = [];\r\n\r\n\t\t\t\t\tdata.map(board=>{\r\n\t\t\t\t\t\tif(board.id === \"data\"){\r\n\t\t\t\t\t\t\tthis.setState({info : board});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet columns = [];\r\n\t\t\t\t\t\tcolumns[0] = {\r\n\t\t\t\t\t\t\tid : board.id,\r\n\t\t\t\t\t\t\t...JSON.parse(board.info)\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tObject.values(board.columns).map(cols =>{\r\n\t\t\t\t\t\t\tlet cards = [];\r\n\r\n\t\t\t\t\t\t\tcols.map(card=>{\r\n\t\t\t\t\t\t\t\tcards.push(JSON.parse(card));\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tcolumns.push(cards);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tboardData.push([...columns]);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tthis.setState({boards : boardData});\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(!!this.state.profile) document.title = this.state.profile.display+\"'s Profile | Trello Clone\";\r\n\t\tif((this.context.userSignedIn === true && this.state.mode === true) && this.state.profile && this.state.boards) this.setState({status : 1}); // If the user is signed in, the profile is loaded and this isn't their account\r\n\t\tif(this.context.userSignedIn !== undefined && this.state.profile && this.state.mode === false) this.setState({status : 2}); // If user isn't signed in and the profile is loaded\r\n\r\n\t}\r\n\r\n\thandleChange(event){\r\n\t\tif(event.target.type === \"checkbox\"){\r\n\t\t\tthis.setState({\r\n\t\t\t\tchangedData : {...this.state.changedData,[event.target.name] : event.target.checked}\r\n\t\t\t})\r\n\r\n\t\t\treturn;\t\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tchangedData : {...this.state.changedData,[event.target.name] : event.target.value}\r\n\t\t})\r\n\t}\r\n\r\n\thandleFile(event){\r\n\t\tthis.setState({profilePictureName: event.target.value, profilePicture : event.target.files[0]});\r\n\t}\r\n\r\n\tsaveChanges(){\r\n\t\tif(this.state.profilePictureName){\r\n\t\t\tFirebaseAction.uploadProfilePicture(this.context.currentUser.uid,this.state.profilePicture).then(snapshot => snapshot.ref.getDownloadURL()).then((url)=>{\r\n\t\t\t\tthis.setState({changedData : {...this.state.changedData, profilePicture : url}});\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tthis.setState({error : error});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tFirebaseAction.saveProfile(this.context.currentUser.uid,this.state.changedData).then(profData=>{\r\n\t\t\tthis.setState({profile : this.state.changedData});\r\n\t\t}).catch(error =>{\r\n\t\t\tthis.setState({error : error});\r\n\t\t});\r\n\t}\r\n\r\n\tcreateNewBoard(data){\r\n\t\tFirebaseAction.createNewBoard(this.context.currentUser.uid,data).then((rdata)=>{\r\n\t\t\twindow.open(\"/b/\"+rdata.id,\"_blank\");\r\n\t\t\tthis.setState({renderNewBoard : false, boards : this.state.boards.concat([{id : rdata.id,...data}])});\r\n\t\t}).catch(console.error);\r\n\t}\r\n\r\n\trender(){\r\n\t\tswitch(this.state.status){\r\n\r\n\t\t\tcase -1: default: return (\r\n\t\t\t\t<div id=\"pupBackingError\">\r\n\t\t\t\t<div id=\"pupWindowSmall\">\r\n\t\t\t\t\t<span className=\"errorTitle\">Sorry about this, but there's been an error.</span>\r\n\t\t\t\t\t<span className=\"errorMessage\">{this.state.error.name+\": \"+this.state.error.message}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\t\tcase 0: return <div>Loading</div>\r\n\r\n\t\t\tcase 1: return (\r\n\t\t\t\t<div className=\"pflMain\">\r\n\t\t\t\t\t<left>\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<img alt=\"\" src={this.state.profile.profilePicture}/>\r\n\t\t\t\t\t\t\t<span>{this.state.profile.display}'s Profile</span>\r\n\t\t\t\t\t\t</header>\r\n\r\n\t\t\t\t\t\t<main>\r\n\t\t\t\t\t\t\t<div className=\"pflLeftBoardCount\">You have {this.state.boards.length} {this.state.boards.length === 1 ? \"board\" : \"boards\" }</div>\r\n\t\t\t\t\t\t\t<div className=\"pflMidBoardList\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.boards.map((data,index)=>{\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Link key={index} to={\"/b/\"+data[0].id} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h1>{data[0].title}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>Contains {data.length-1} {data.length === 1 ? \"column\" : \"columns\"}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t<a onClick={()=>this.setState({renderNewBoard : true})}><h1>Create New Board</h1></a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</main>\r\n\r\n\t\t\t\t\t\t<footer>\r\n\t\t\t\t\t\t\t<h1>Stuart Wallace Portfolio 2021</h1>\r\n\t\t\t\t\t\t\t<h2>Trello Clone 2021</h2>\r\n\t\t\t\t\t\t</footer>\r\n\t\t\t\t\t</left>\r\n\r\n\t\t\t\t\t<right>\r\n\t\t\t\t\t\t<div className=\"pflRightPanel\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"display\">Display Name</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"display\" name=\"display\" value={this.state.changedData.display} onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"picture\">Profile Picture</label>\r\n\t\t\t\t\t\t\t\t<input type=\"file\" id=\"picture\" name=\"picture\" value={this.state.profilePictureName} onChange={(e)=>this.handleFile(e)}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<hr/>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"private\">Make {this.state.profile.private ? \"public\" : \"private\"}</label>\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"private\" name=\"private\" value=\"Make Private\" onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<hr/>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"boardBackground\">Default Board Colour</label>\r\n\t\t\t\t\t\t\t\t<input type=\"color\" id=\"boardBackground\" name=\"boardBackground\" value={this.state.changedData.boardBackground} onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardBackground\">Default Card Colour</label>\r\n\t\t\t\t\t\t\t\t<input type=\"color\" id=\"cardBackground\" name=\"cardBackground\" value={this.state.changedData.cardBackground} onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<hr/>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"setting6\">Setting 6</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"setting6\" name=\"setting6\" value=\"\" onChange={(e)=>this.handleChange(e)}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button onClick={()=>this.saveChanges()}>Save Changes</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</right>\r\n\r\n\t\t\t\t\t<NewBoardPopup \topen={this.state.renderNewBoard} close={()=>this.setState({renderNewBoard : false})} create={(dat)=>this.createNewBoard(dat)}/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\t\tcase 2:\treturn (\r\n\t\t\t\t<div className=\"pflMain\">\r\n\t\t\t\t\t<middle>\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<img alt=\"\" src={this.state.profile.profilePicture}/>\r\n\t\t\t\t\t\t\t<span>{this.state.profile.display}'s Profile</span>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t<main>\r\n\t\t\t\t\t\t\t{(this.state.profile.private ? \r\n\t\t\t\t\t\t\t\t<div className=\"pflLeftBoardCount\">This users profile is private</div>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"pflLeftBoardCount\">This user has {this.state.profile.boards} {this.state.profile.boards === 1 ? \"board\" : \"boards\" }</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</main>\r\n\t\t\t\t\t\t<footer>\r\n\t\t\t\t\t\t\t<h1>Stuart Wallace Portfolio 2021</h1>\r\n\t\t\t\t\t\t\t<h2>Trello Clone 2021</h2>\r\n\t\t\t\t\t\t</footer>\r\n\t\t\t\t\t</middle>\r\n\t\t\t\t</div>\t\t\t\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport default class NotFound extends React.Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(this.state.redirect) return <Redirect to={this.state.redirect}/>\r\n\t\treturn (\r\n\t\t\t<div className=\"mnpWrapper\" onClick={()=>{this.setState({redirect : \"/\"})}}>\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<h1>Sorry, page not found.</h1>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tClick to return home\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\nimport 'Style/Trello.css';\n\nimport AuthProvider from \"Components/Auth/AuthProvider\";\n\nimport MainPage from \"Components/Main/MainPage\";\nimport Board from \"Components/Board/Board\";\nimport SignIn from \"Components/SignIn/SignIn\";\nimport Profile from \"Components/Profile/Profile\";\nimport NotFound from \"Components/Main/NotFound\";\n\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\n\nclass Trello extends React.Component{\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\twindow.document.title = \"Dashboard - Trello-Clone\";\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<AuthProvider>\n\t\t\t\t<Router>\n\t\t\t\t\t <Switch>\n\t\t\t\t\t\t<Route path=\"/b/:id\" exact component={Board} />\n\t\t\t\t\t\t<Route path=\"/u/:id\" exact component={Profile} />\n\t\t\t\t\t\t<Route path=\"/signin\" exact render={(props) =><SignIn {...props} mode={true}/>} />\n\t\t\t\t\t\t<Route path=\"/signup\" exact render={(props) =><SignIn {...props} mode={false}/>} />\n\t\t\t\t\t\t<Route path=\"/\" exact component={MainPage} />\n\t\t\t\t\t\t<Route component={NotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</AuthProvider>\n\t\t);\t\n\t}\n}\n\nexport default Trello;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'Style/index.css'\nimport Trello from 'Components/Trello';\n\nReactDOM.render(<Trello/>,document.getElementById('root'));\n"],"sourceRoot":""}